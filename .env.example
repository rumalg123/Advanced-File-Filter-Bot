# ==============================================================================
# Advanced File Filter Bot - Configuration Template
# ==============================================================================
# Copy this file to .env and fill in your actual values
# Never commit the actual .env file with real credentials to version control!

# ==============================================================================
# ðŸ“¡ TELEGRAM CONFIGURATION (Required)
# ==============================================================================
# Get these from https://my.telegram.org
API_ID=0
API_HASH=

# Get this from @BotFather on Telegram
BOT_TOKEN=

# Session name for the bot (optional)
SESSION=Media_search

# ==============================================================================
# ðŸ—ƒï¸ DATABASE CONFIGURATION (Required)
# ==============================================================================
# Primary MongoDB connection URI
DATABASE_URI=

# Primary database name (optional)
DATABASE_NAME=PIRO

# Collection name for media files (optional)
COLLECTION_NAME=FILES

# Multi-database settings (optional)
# Additional database URIs (comma-separated)
DATABASE_URIS=

# Additional database names (comma-separated)
DATABASE_NAMES=

# Database size limit in GB before switching (optional - can be changed via bot)
DATABASE_SIZE_LIMIT_GB=0.5

# Enable automatic database switching (optional - can be changed via bot)
DATABASE_AUTO_SWITCH=true

# Circuit breaker settings (optional - can be changed via bot)
DATABASE_MAX_FAILURES=5
DATABASE_RECOVERY_TIMEOUT=300
DATABASE_HALF_OPEN_CALLS=3

# ==============================================================================
# ðŸ”´ REDIS CONFIGURATION (Required)
# ==============================================================================
# Redis connection URI
REDIS_URI=

# ==============================================================================
# ðŸ–¥ï¸ SERVER CONFIGURATION (Optional)
# ==============================================================================
# Server port (1-65535)
PORT=8000

# Number of workers
WORKERS=50

# ==============================================================================
# ðŸŽ›ï¸ FEATURE CONFIGURATION (Optional)
# ==============================================================================
# Enable caption filtering
USE_CAPTION_FILTER=true

# Disable premium features
DISABLE_PREMIUM=true

# Premium subscription price with currency
PREMIUM_PRICE=$1

# Disable filtering entirely
DISABLE_FILTER=false

# Enable public file store
PUBLIC_FILE_STORE=false

# Keep original file captions
KEEP_ORIGINAL_CAPTION=true

# Use original captions in batch mode
USE_ORIGINAL_CAPTION_FOR_BATCH=true

# Premium subscription duration in days
PREMIUM_DURATION_DAYS=30

# Daily file limit for free users
NON_PREMIUM_DAILY_LIMIT=10

# Auto-delete timeout in seconds
MESSAGE_DELETE_SECONDS=300

# Maximum button size
MAX_BTN_SIZE=12

# Requests per day limit
REQUEST_PER_DAY=3

# Warning limit for requests
REQUEST_WARNING_LIMIT=5

# Restrict #request feature to premium users only
REQUEST_ONLY_FOR_PREMIUM=false

# ==============================================================================
# ðŸ“¢ CHANNEL CONFIGURATION (Optional)
# ==============================================================================
# Log channel ID (0 to disable)
LOG_CHANNEL=0

# Index request channel ID (uses LOG_CHANNEL if 0)
INDEX_REQ_CHANNEL=0

# File store channel
FILE_STORE_CHANNEL=

# Delete channel ID
DELETE_CHANNEL=

# Request channel ID (uses LOG_CHANNEL if 0)
REQ_CHANNEL=0

# Support group ID
SUPPORT_GROUP_ID=

# Auth channel (for force subscription)
AUTH_CHANNEL=

# Auth groups (comma-separated IDs, can include negative IDs)
AUTH_GROUPS=

# Auth users (comma-separated IDs)
AUTH_USERS=

# Admin user IDs (comma-separated) - IMPORTANT: Set this!
ADMINS=

# Channel IDs to index (comma-separated)
CHANNELS=0

# Picture URLs (comma-separated)
PICS=

# ==============================================================================
# ðŸ’¬ MESSAGE CONFIGURATION (Optional)
# ==============================================================================
# Custom file caption template
# Available placeholders: {filename}, {size}
CUSTOM_FILE_CAPTION=

# Batch file caption template
BATCH_FILE_CAPTION=

# Auto-delete message template
# Available placeholders: {content_type}, {minutes}
AUTO_DELETE_MESSAGE=â° This {content_type} will be automatically deleted in {minutes} minutes to save disk space. Please forward it to your personal chat to keep it.

# Start command message template
START_MESSAGE=ðŸ‘‹ Hello! I'm a file search bot. Send me any file name and I'll try to find it for you.

# Support group URL
SUPPORT_GROUP_URL=

# Support group name
SUPPORT_GROUP_NAME=Support Group

# Payment link
PAYMENT_LINK=https://buymeacoffee.com/matthewmurdock001

# ==============================================================================
# ðŸ”„ UPDATE CONFIGURATION (Optional)
# ==============================================================================
# Update repository URL
UPDATE_REPO=https://github.com/rumalg123/Advanced-File-Filter-Bot.git

# Update branch
UPDATE_BRANCH=main

# Auto-update on every start
AUTO_UPDATE=false

# Update once on start
UPDATE_ON_START=false

# Create backups during updates (recommended)
BACKUP_ON_UPDATE=true

# Continue with old version if update fails (Docker only)
CONTINUE_ON_UPDATE_FAIL=false

# ==============================================================================
# âš¡ CONCURRENCY CONFIGURATION (Optional)
# ==============================================================================
# Performance tuning - adjust these based on your server capacity

# Max concurrent Telegram send operations
CONCURRENCY_TELEGRAM_SEND=10

# Max concurrent Telegram fetch operations
CONCURRENCY_TELEGRAM_FETCH=15

# Max concurrent database write operations
CONCURRENCY_DATABASE_WRITE=20

# Max concurrent database read operations
CONCURRENCY_DATABASE_READ=30

# Max concurrent file processing operations
CONCURRENCY_FILE_PROCESSING=5

# Max concurrent broadcast operations
CONCURRENCY_BROADCAST=3

# Max concurrent indexing operations
CONCURRENCY_INDEXING=8

# ==============================================================================
# ðŸ“¦ PROCESSING LIMITS CONFIGURATION (Optional)
# ==============================================================================
# Channel indexing batch sizes (dynamic based on queue size)

# Batch size when queue > 500 (high load)
PROCESSING_BATCH_SIZE_HIGH_LOAD=50

# Batch size when queue > 200 (medium load)
PROCESSING_BATCH_SIZE_MEDIUM_LOAD=30

# Batch size when queue <= 200 (low load)
PROCESSING_BATCH_SIZE_LOW_LOAD=20

# Queue size threshold for high load
PROCESSING_QUEUE_HIGH_THRESHOLD=500

# Queue size threshold for medium load
PROCESSING_QUEUE_MEDIUM_THRESHOLD=200

# Maximum messages in a single batch link
PROCESSING_MAX_BATCH_MESSAGES=10000

# Maximum message queue size
PROCESSING_MESSAGE_QUEUE_SIZE=1000

# Maximum overflow queue size
PROCESSING_OVERFLOW_QUEUE_SIZE=500

# Delay between processing messages in seconds
PROCESSING_INTER_MESSAGE_DELAY=0.5

# Wait time in high load (seconds)
PROCESSING_BATCH_WAIT_TIME_HIGH=2

# Wait time in medium load (seconds)
PROCESSING_BATCH_WAIT_TIME_MEDIUM=3

# Wait time in low load (seconds)
PROCESSING_BATCH_WAIT_TIME_LOW=5

# ==============================================================================
# ðŸŒ ENVIRONMENT DETECTION (Optional)
# ==============================================================================
# Set environment type (dev/development or production)
ENVIRONMENT=production

# Docker environment indicator
IN_DOCKER=

# Kubernetes environment indicator (automatically detected)
# KUBERNETES_SERVICE_HOST=

# Timezone setting (optional)
TZ=UTC

# ==============================================================================
# QUICK START GUIDE
# ==============================================================================
# 1. Set API_ID and API_HASH from https://my.telegram.org
# 2. Set BOT_TOKEN from @BotFather
# 3. Set DATABASE_URI to your MongoDB connection string
# 4. Set REDIS_URI to your Redis connection string  
# 5. Set ADMINS to your Telegram user ID (comma-separated for multiple admins)
# 6. Configure channels and optional features as needed
# 7. Save as .env and run the bot with: python bot.py
#
# For more details, see docs/CONFIGURATION.md

# ==============================================================================
# SECURITY REMINDERS
# ==============================================================================
# - Never commit .env files with real credentials
# - Use strong, unique passwords for MongoDB and Redis
# - Restrict database and Redis access by IP when possible
# - Use HTTPS URIs for production databases
# - Rotate credentials regularly
# - Set up proper firewall rules for your server